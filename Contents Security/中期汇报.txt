有关于内容安全,我大致设想了这么5个目标 1,2,3,4,5 . 总结一下就是这么四件事情,文本审核,视频审核,用户特征和态势感知

根据刚才所说的内容,设计了如图所示的内容安全方面的架构,四个模块分别对应刚才提到的四个事情,四个模块总共分为三层,数据层,用户层和态势层.下面会详细介绍每个模块的工作流程.

首先是文本审核模块,这里的目标是发现,识别恶意言论,细致刻画恶意言论的类别. 文本分类是自然语言处理领域中一个非常常见的问题,整体的流程也绕不开 预处理,分词,特征工程和分类器.这几个步骤,但是这里我还想再进一步,希望能够在分类器结果的基础上,细致的刻画文本恶意的类别(举个例子,比如一条文本被分类到色情这个大类下,那模块下一步就会对这个文本进行色情相关敏感词的匹配,假如匹配到了诸如萝莉,幼女,未成年…等词汇,那我就有理由将这一文本细致的描述为儿童色情这一分类),这里的核心的一点是这样的,我认为即使是同一分类的文本,恶意程度也有相当大的差异.还要提的一点就是,这里不光有文本审核的数据流,还有人工审核反馈的数据流,人工审核的数据实际上就相当于打好标记的优质数据,经过处理可以用来完善数据集和分类模型.

这里是有关文本审核选型和调优的相关内容
首先是文本分类器的调优,其实也就是模型的选择和调参,最终分类的效果达到了96%以上
其次是文本特征处理的选择,最终选择了适用范围较广的TF-IDF
最后是文本过滤的优化,这里基于DFA(有限自动机)实现了一个非常快的敏感词匹配算法,速度相较之前大约提高了十倍.

接下来介绍视频审核模块,这里的主要目标就是发现,识别分类恶意视频
模块的核心功能主要是色情图片识别和相似图片检索,这里的核心思路是用关键帧代替视频,将视频的审核转化为图片的审核,在通过言论汇聚和ocr等手段进行补足

首先讲一下色情图片识别,这里经过三轮的迭代,最终选择了yahoo一个基于深度神经网络的NSFW模型来作为基础开发了色情图片识别的功能,判别率和误判率都比较令人满意.速度也比较快,唯一的缺陷是对于人物占比较小的色情图片的识别性能不是很好,这里本来想基于opencv开发一个识别人像的预处理功能,不过发现opencv在相同场景下识别人体的准确度也不够令人满意… 

根据刚才提到的色情图片识别的功能设计了一套结合图片指纹排重的色情图片识别的流程,处理时间约在0.1ms到 0.15s之间. 额外再提一点,这里在进行图片指纹生成的过程中没有直接取图片二进制数据生成MD5特征值,而是先进行了缩放处理. 这样使得一个MD5值能覆盖分辨率不同的相同图片. 提高的覆盖的效果

接下来介绍图片相似检索的功能,这里主要实现了两种图片特征提取方法
第一种是dHash,这是感知哈希中效果最好的一种,算法过程如图所示,这里的dHash的概念很想simhash和word2vec,也就是越相近的两张图片所生成的dhash值之间的汉明距离也越近.第二种是sfit特征,这里抽取的是图片的关键点做为特征,从右边的效果图可以看出,即使两张图片有略微的差异,sfit特征也能在整体上非常好的识别相似图片. 经过测试之后,总结一下就是dhash快,有区分关联非关联图片的能力,但是相似效果比较不好;sfit慢,但是效果好

通过上面的结论,我们将两种相似搜索的方式结合起来实现了基于多段哈希索引的相似图片检索流程,dHash用于快速聚类,找到相似图片集,sfit用于在小范围内判断相似程度,最终得出结果

这里是视频审核的整体流程,也就是上面提到的两个流程的整合,人工审核流程和色情图片识别流程都比较好理解,这里主要讲一下为什么要做相似图片检索的流程;对于非色情的其他恶意视频(暴恐,敏感,反动等)很难在图片上找出它们共性的特征,这里采取了一种被动相似的思路,即将之前已有的恶意视频特征抽出整理成恶意库,通过相似检索来对抗新上传的非色情恶意视频.其次就是引入了一个审核排序的概念,因为刚才提到的不论是dHash和图片指纹都是想给整个过程提速,但是如果输入的都是正常视频则最终还要落回到模型判别,这里想通过优先队列实现这个一个功能:根据用户性质和之前的记录将更有可能是恶意视频的视频优先审核来提高整体的效率

下个模块是用户特征,这里简单说就是想做好这么一件事情,收集多个维度的尽可能详尽用户特征数据(使用维度,资料维度,内容维度和社交维度),经过处理之后通过决策树来判定用户的性质,对于不同类型的用户采取不同的打击策略.  此外还有社群划分,黑名单和类似用户画像的能力,此处可以与推荐算法部分很好结合起来. 这个模块的核心目的就是从源头上打击恶意内容的生产者

最顶层的模块是态势感知模块,这里的任务是感知平台整体安全态势, 统计、分析与预警.  态势感知说白了就是感知态势,对于之前的三个模块不论是恶意文本,色情视频的发现和恶意内容生产者的判别都可以视为孤立的安全事件, 这里想做的就是将这些一个一个的孤立的安全事件联系起来,作为一个整体来看待,打通下层三个模块.,分析出规律,预测接下来的走势,进行提前预警.

接下来说一下整体思路,整个模块想实现一个循环. 首先数据审核(也就是文本和视频审核发现恶意数据),这些发现的内容是用户特征模块最为重要的输入,帮助用户特征模块判定用户的性质,而数据审核模块和用户特征模块的出来的结论为人工审核提供帮助,而人工审核的数据又可以反馈补足数据审核的恶意数据集与模型.

目前的进度如图所示,

以下是目前存在的一些问题
